<html>
    <head>
        <title>Gaylian: Deine Dateien</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link rel="icon" href="../static/img/gaylian_50.png">
        <link rel="stylesheet" type="text/css" href="..{{ url_for('static', filename='css/defaultstyle.css') }}">
        <script src="../static/js/nav-name.js"></script>
        
        <link rel="stylesheet" type="text/css" href="../static/css/defaultstyle.css">
        <script type="text/javascript" src="../static/js/files-ltrim.js"></script>
        <script type="text/javascript" src="../static/js/files-sort_table.js"></script>
        <script type="text/javascript" >
            window.onload = function() {
                SortTable.init();
            }
        </script>
        <script>
            SortTable.init().forEach(function(el) {
                el.sort(spalte); 
            }
            )
       </script>
    </head>
    <body>
        <div class="container px-4" style="padding-top: 30px;">
            <div class="row gx-5">
                <div class="col based1">
                    <div class="shadow rounded p-3 border bg-body">
                        <h1>Dateien von {{username}}</h1>
                    </div>
                    <div class="shadow rounded p-3 border bg-body">
                        {% if files %}
                        <h2>Cloud-Dateien</h2>
                        <div style="overflow-x:auto;">
                            <table class="sortable table table-hover table-sm" style="table-layout: fixed;">
                                <thead>
                                    <tr>
                                        <th title="ignore_case" style="width: 35%;">Name der Datei</th>
                                        <th style="width: 15%;">Datum</th>
                                        <th style="width: 15%;">Größe</th>
                                        <th style="width: 20%;">Link</th>
                                        <th class="no_sort">Löschen</th>
                                    </tr>
                                </thead>
                                {% for file in files %}
                                <tbody class="table-group-divider">
                                    <tr>
                                        <td>{{file.fileCode}}</td>
                                        <td>{{file.date}}</td>
                                        <td>{{file.size}} Byte</td>
                                        <td><a href="/cloud/{{file.fileCode}}" target="_blank">{{file.fileCode}}</a></td>
                                        <td>
                                            <form class="padding_delete" action="/cloud/{{file.fileCode}}/delete" target="_blank" method="get">
                                                <input class="btn btn-files_delete btn-lg-files_delete" type="submit" name="delButton" value="Löschen">
                                            </form>
                                        </td>
                                    </tr>
                                </tbody>
                                {% endfor %}
                            </table>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row gx-5">
                <div class="col based1">
                    <div class="shadow rounded p-3 border bg-body">
                        {% if docs %}
                        <h2>Dokumente</h2>
                        <div style="overflow-x:auto;">
                            <table class="sortable table table-hover table-sm" style="table-layout: fixed;">
                                <thead>
                                    <tr>
                                        <th title="ignore_case" style="width: 35%;">Name der Datei</th>
                                        <th style="width: 15%;">Datum</th>
                                        <th style="width: 15%;">Größe</th>
                                        <th style="width: 20%;">Link</th>
                                        <th class="no_sort">Löschen</th>
                                    </tr>
                                </thead>
                                {% for doc in docs %}
                                <tbody class="table-group-divider">
                                    <tr>
                                        <td>{{doc.fileCode}}</td>
                                        <td>{{doc.date}}</td>
                                        <td>{{doc.size}} Byte</td>
                                        <td><a href="/cloud/{{file.fileCode}}" target="_blank">{{doc.fileCode}}</a></td>
                                        <td>
                                            <form class="padding_delete" action="/cloud/{{file.fileCode}}/delete" target="_blank" method="get">
                                                <input class="btn btn-files_delete btn-lg-files_delete" type="submit" name="delButton" value="Löschen">
                                            </form>
                                        </td>
                                    </tr>
                                </tbody>
                                {% endfor %}
                            </table>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr style="margin: 25px;">
        <div class="container px-4">
            <div class="row gx-5">
                <div class="col based1">
                    <div class="shadow rounded p-3 border bg-body fw-semibold">
                        <h1>Speicher von {{username}}</h1>
                    </div>
                    <div class="shadow rounded p-3 border bg-body">
                        
                    </div>
                </div>
            </div>
        </div>
        <div aria-live="polite" aria-atomic="true" class="position-relative">
            <div class="toast-container top-0 end-0 p-3">
                {% if error %}
                <div class="toast show toast-anzeige bottom-0 end-0" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <img src="../static/img/gaylian_50_yellow.png" class="rounded me-2" alt="gaylian: Error" style="width: 13%;">
                        <strong class="me-auto">Datei Löschen</strong>
                        <small class="text-muted">Schließen</small>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                        <div class="toast-body">
                            Sind Sie sicher, dass die Datei
                            <a style="color: red;">{{ name }}</a>
                            endgültig gelöscht werden soll?
                            <div class="mt-2 pt-2 border-top ">
                                <form method="post">
                                    <button type="button" class="btn btn-outline-danger toast-button-1">Datei löschen!</button>
                                </form>
                            </div>
                        </div>
                </div>
                {% endif %}
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>